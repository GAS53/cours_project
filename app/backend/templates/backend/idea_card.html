{% extends "backend/base.html" %}
{% load static %}

{% block content %}
<!-- Главный контейнер -->
<div class="container-md mt-5 idea-list">
    <div class="row justify-content-center align-items-top">

        <!-- Контейнер идей -->
        <div class="col">

            <!-- Карточка идеи 1 -->
            <div class="card mb-3" style="min-height: 166px; min-width: 380px;">
                <div class="card-body">

                    <div class="row g-3 justify-content-left">

                        <div class="col-sm-2 card-image d-none d-md-block my-auto">
                            <img src="https://img.freepik.com/free-vector/mysterious-mafia-man-smoking-cigarette_52683-34828.jpg?w=826&t=st=1678618018~exp=1678618618~hmac=ea416d598467ae43cc431081515e0bb0a25e41cb22385a045ec12ca347842f9a"
                                 class="img-fluid rounded-circle" alt="Card title">
                        </div>

                        <div class="col" style="min-width: 340px;">

                            <div class="container">
                                <div class="row justify-content-center align-items-center g-2">
                                    <div class="col-4">
                                        <h4 class="card-title text-center">
                                            <strong>{{ idea.title }}</strong>

                                        </h4>
                                    </div>


                                </div>

                                <div class="row g-1">

                                    <div class="col-4 my-auto">
                                        <a class="nameLink" href="#">{{ idea.autor.first_name|title }}
                                            {{ idea.autor.last_name|title }}</a>
                                    </div>

                                    <div class="col my-auto">
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-striped" role="progressbar"
                                                 style="width: 10%" aria-valuenow="10" aria-valuemin="0"
                                                 aria-valuemax="100"></div>
                                        </div>
                                    </div>

                                    <div class="col-1 my-auto">
                                        <small class="text-muted">(1)</small>
                                    </div>

                                    <div class="row justify-content-center align-items-center g-2">
                                        <div class="col">
                                            <p class="card-text">Краткое описание</p>
                                            <p>{{ idea.preview }}</p>
                                            <p class="card-text">
                                                <small class="text-muted">Опубликовано {{ idea.created }}</small>
                                            </p>
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>

                        <div class="col-3 my-auto">
                            <div class="container">
                                <div class="row g-2 mx-auto justify-content-center">

                                    <div class="col">
                                        <div class="mt-2 text-center text-muted">
                                            <strong>{{ idea.rubric.rubirc_name }}</strong>
                                        </div>
                                        <div class="mt-2 text-center">
                                            <h1>⭐⭐⭐⭐⭐</h1>
                                        </div>
                                        <div class="mt-2 d-grid gap-2">
                                            <button type="button" class="btn mainButton">
                                                Вступить в команду
                                            </button>
                                        </div>
                                        <div class="mt-2 d-grid gap-2">
                                            <button type="button" class="btn btn-outline-warning">
                                                Оставить отзыв
                                            </button>
                                        </div>
                                        <div class="mt-2 d-grid gap-2">
                                            <button type="button" class="btn btn-outline-danger">
                                                Пожаловаться
                                            </button>
                                        </div>


                                    </div>
                                </div>
                            </div>

                        </div>

                        <!-- Аккордион -->
                        <div class="row justify-content-center align-items-center g-2">
                            <div class="col">

                                <div class="accordion accordion-flush" id="accordionFlushExample">

                                    <!-- Описание -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="flush-headingOne">
                                            <button class="accordion-button collapsed" type="button"
                                                    data-bs-toggle="collapse" data-bs-target="#flush-collapseOne"
                                                    aria-expanded="false" aria-controls="flush-collapseOne">
                                                Развернутое описание
                                            </button>
                                        </h2>
                                        <div id="flush-collapseOne" class="accordion-collapse collapse"
                                             aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                                            <div class="accordion-body">
                                                {{ idea.body }}
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Команда -->
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="flush-headingTwo">
                                            <button class="accordion-button collapsed" type="button"
                                                    data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo"
                                                    aria-expanded="false" aria-controls="flush-collapseTwo">
                                                Уже с нами
                                            </button>
                                        </h2>
                                        <div id="flush-collapseTwo" class="accordion-collapse collapse"
                                             aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                                            <div class="accordion-body">
                                                <h3> Наша команда </h3>
                                                <div class="container-fluid">
                                                    <div class="row justify-content-between align-items-center g-2">
                                                        {% for joined_user in joined_users %}
                                                        <div class="col-2">
                                                            <img src="https://img.freepik.com/free-vector/cute-panda-drinking-boba-milk-tea-cartoon-vector-illustration-animal-food-concept-isolated-vector-flat-cartoon-style_138676-1949.jpg?w=740&t=st=1680708790~exp=1680709390~hmac=36a6d896e32197493ab7fcd329bb0b4fcb1453aee3e3bdaa03595985560c3068s"
                                                                 class="img-fluid rounded-circle" alt="Card title">
                                                            <p class="text-center">{{ joined_user.user.first_name|title }}
                                                                {{ joined_user.user.last_name|title }}</p>
                                                        </div>
                                                        {% endfor %}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>

                        </div>
                    </div>
                </div>

                <!-- Отзыв -->
                <div class="container">
                    <div class="row justify-content-center align-items-center g-2 feedback rounded my-2 mx-2 px-2">
                        <div class="col-3">
                            <div class="text-center">
                                Philip Williams
                            </div>
                            <div class="text-center">
                                <small class="text-muted">05/05/2005</small>
                            </div>
                        </div>
                        <div class="col">
                            <div class="container">
                                <div class="row justify-content-left align-items-center g-2">
                                    <div class="col-6">
                                        <div>
                                            <small class="text-muted">Оценка</small>
                                            <span>⭐⭐⭐⭐⭐</span>
                                        </div>

                                    </div>

                                    <div class="row justify-content-center align-items-center g-2">
                                        <div>
                                            <small class="text-muted">Текст отзыва</small>
                                        </div>
                                        <div class="col mb-3">
                                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi quam
                                            praesentium recusandae odit saepe unde natus, tenetur, suscipit vero hic
                                            dolorem cumque enim consequatur illo quae! Est illo eveniet provident, hic
                                            accusamus nisi aliquam molestias sed voluptas. Eius, magnam eum. Facilis
                                            esse tempora minima velit veritatis id consequuntur labore recusandae
                                            necessitatibus, ea nemo eaque incidunt sed tempore ut. Molestias, sit.
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>


                    </div>
                </div>

                <!-- Пагинатор -->
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-end">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                        </li>
                        <li class="page-item"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#">Next</a>
                        </li>
                    </ul>
                </nav>

            </div>

        </div>
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Войдите в систему</h5>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">Логин или email</label>
                        <input type="email" class="form-control" id="exampleInputEmail1"
                               aria-describedby="emailHelp" placeholder="Введите логин или email">
                    </div>
                    <div class="mb-3">
                        <label for="exampleInputPassword1" class="form-label">Пароль</label>
                        <input type="password" class="form-control" id="exampleInputPassword1"
                               placeholder="Введите пароль">
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="exampleCheck1">Запомнить меня</label>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-secondary"
                                data-bs-dismiss="modal">Закрыть
                        </button>
                        <button type="button" class="btn mainButton">Войти</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script src="/static/js/bootstrap.bundle.min.js"></script>
<!--    <script src="/static/js/main.js"></script>-->
{% endblock content %}
